# QA Environment Configuration - Sasai Payment Gateway (Sandbox)
environment: qa

api:
  base_url: https://sandbox.sasaipaymentgateway.com
  timeout: 30
  retry_count: 3
  retry_delay: 2

auth:
  type: bearer
  token: "" # Will be obtained from login
  username: "64543532-3dee-43bc-b42e-d6b503f7fbdb"
  password: "iW8I*0bZ"
  tenant_id: "sasai"
  client_id: "sasai-pay-client"
  api_key_header: X-API-Key
  api_key_value: ""

# OTP Verify Configuration
otp_verify:
  expired_otp_reference_id: "00000000-0000-0000-0000-000000000000"
  invalid_user_reference_id: "invalid-user-ref-12345"

# OTP Request Configuration
otp:
  sender_id: "771222221" # 771222221 789124558 789124669 777222015 781707016
  country_code: "+263"
  default_purpose: "0" # 0 for authentication
  default_mode: "0" # 0 for SMS, 1 for Email

# PIN Verify Configuration
pin_verify:
  # Sample encrypted PIN from the curl request (RSA encrypted)
  sample_encrypted_pin: "ZXodNbUKicCm/E01R6xI6NLUxqxP4g+mZAbQik8VYCeJYDGL9n6hYKzCAnuAAWcvs2nSsw0ZTN8wisiCyxYOmxRZBGYNyiH41cTOkNkUdpkP7su0Af/Mhmnp6SWDZxysO3q5Qp+qdroDSVFAepf2xJnR8X/T3INSveKGclVrd/8YkR2i4uyyHmIDnkMsWS7gLZQhpCX3gKGsLY/wT9zyOX0pHgotCUSUEGyJovNXs/P5mlvng6yMl3ZWY+2tgL1zx9pmvQtv7WKxvfKghGtRH2VQlwcviTorZdFUSdOx79xmhqxlSMNMUC5DlMnTEGT5io9MRMLbcTwXbk7T7Xuz2g=="
  invalid_encrypted_pin: "invalid_encrypted_pin_12345"
  empty_pin: ""
  default_user_reference_id: "a63e59b7-ec55-4ba0-81e5-2cbfbf0da234"
  invalid_user_reference_id: "invalid-user-ref-12345"
  default_tenant_id: "sasai"
  default_azp: "sasai-pay-client"
  default_device_model: "Postman API Device"
  default_device_id: "57E6D504-CA3A-4315-8CAA-3243BA654BC0" # Required device ID for PIN verification
  invalid_device_id: "invalid-device-id"
  malformed_test_string: "test"
  malformed_pin: 12345 # Should be string for testing
  malformed_user_ref: 99999 # Should be string UUID for testing

# Login Devices Configuration
login_devices:
  # Sample user token from PIN verification (this will be obtained dynamically in tests)
  sample_user_token: "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxWVhKUzd2bDNLbThtM2pKRUs5OVN4T2ljWVhBd2tUX0FnMTlmYUdDWmNZIn0.eyJleHAiOjE3Njg5NzY0MzcsImlhdCI6MTc2ODk3NTUzNywianRpIjoiMjUzMzg4YWYtZmYyNy00NDVhLTkwODgtMzk2ZWY5NTY5MTdjIiwiaXNzIjoiaHR0cHM6Ly9zYW5kYm94LWF1dGhuZXcuc2FzYWlwYXltZW50Z2F0ZXdheS5jb20vcmVhbG1zL3Nhc2FpIiwiYXVkIjpbInNhc2FpLWFwaS1jbGllbnQiLCJhY2NvdW50Il0sInN1YiI6ImI4NGRmYTdlLWNhY2ItNDI4MS1iOGJmLTc5YTMwMTBjMzVjYSIsInR5cCI6IkJlYXJlciIsImF6cCI6InNhc2FpLXBheS1jbGllbnQiLCJzaWQiOiJkMWM5ZWM2OC1kNjkwLTQxYjItYmQ0NS0zMzJjZDY4YjBjMmUiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHBzOi8vZGV2LnNhc2FpcGF5bWVudGdhdGV3YXkuY29tIiwiaHR0cHM6Ly9zYW5kYm94LnNhc2FpcGF5bWVudGdhdGV3YXkuY29tIiwiaHR0cHM6Ly9zdGFnaW5nLnNhc2FpcGF5bWVudGdhdGV3YXkuY29tIiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwic2FzYWktZXhwbG9yZS1jb25wbHVzLXVzZXIiLCJzYXNhaS1wYXktdXNlciIsInNhc2FpLWV4cGxvcmUtY29uLXVzZXIiLCJkZWZhdWx0LXJvbGVzLXNhc2FpIl19LCJzY29wZSI6Im9wZW5pZCBvZmZsaW5lX2FjY2VzcyBlbWFpbCA1Mjg2OTc1MC00ZTZmLTRiYjktOWQ0NS1jYzQwMWYwZGExMjMgbWlkMSBwcm9maWxlIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImNvdW50cnlDb2RlIjoiWlciLCJuYW1lIjoiVGVzdCBFY29jYXNoIFVzZXIgIFRlc3QgRWNvY2FzaCBVc2VyICIsImN1c3RvbWVySWQiOiJlZjFlYmY1Ny04ZTliLTRjNmMtYmU4OS1kZTcyZGZkNzM3NmMiLCJ0ZW5hbnRJZCI6InNhc2FpIiwibWlkIjoiNTI4Njk3NTAtNGU2Zi00YmI5LTlkNDUtY2M0MDFmMGRhMTIzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiZWYxZWJmNTctOGU5Yi00YzZjLWJlODktZGU3MmRmZDczNzZjIiwiZ2l2ZW5fbmFtZSI6IlRlc3QgRWNvY2FzaCBVc2VyICIsImZhbWlseV9uYW1lIjoiVGVzdCBFY29jYXNoIFVzZXIgIiwiZW1haWwiOiJzcmVlbmF0aHZqKzMzQGltc3MuY28uaW4ifQ.IqPOTnAuUY097UwltgWDPf3B68levUw_HcNZRAy1V6zvAD_JpT1e8KCq5IR-9SC86_GU6y0IdEFyW6KX_zMaz04B30rgVVlQyKSbujCQFdPmFvBrs51FU9HNczvPmbUw07MO5Ix9lw29FPoyRVj_DaOJ3aSt05CAqSNMgDUYwo_HxwGtWUS-gzeaIbQqTRl2VntutSbenRtSZRX2QBADKZCq66nXmZzaCE62qc1ez4BbOf8Di2n7mgMYgedESw9Br7AdG0vSqzeRW5wSdOEM8dxBjRhJnmk4wVdwsvNseQrJm_pJXjS7SJ3MwddTZwr1JIVjz-Cujsuu8bSBWiUljg"

# Merchant Lookup Configuration (Pay to Merchant Flow)
merchant_lookup:
  # Merchant lookup endpoint parameters
  category_id: "SZWC10002"
  operator_id: "SZWOM00001"
  country_code: "ZW"
  merchant_id: "52869750-4e6f-4bb9-9d45-cc401f0da123"
  currency: "USD"
  q1_value: "001535" # Q1 parameter value
  request_id: "bdefac7b-bbc0-48b4-9ef0-84e6b9b34a6f"

  # Invalid test data
  invalid_category_id: "INVALID_CAT"
  invalid_operator_id: "INVALID_OP"
  invalid_country_code: "XX"
  invalid_merchant_id: "invalid-merchant-id"
  invalid_currency: "XXX"
  invalid_q1_value: "999999"
  expired_user_token: "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1MDAwMDAwMDB9.expired"
  invalid_user_token: "invalid_user_token_12345"
  malformed_token: "not.a.valid.jwt.token"
  empty_token: ""

headers:
  Content-Type: application/json
  Accept: application/json
  X-Client-Id: ecocash-automation-client
  X-Environment: qa

endpoints:
  # ✅ CONFIGURED - Authentication API
  auth:
    token: /bff/v1/auth/token # App Token API (CONFIGURED)
    refresh: /bff/v1/auth/refresh # TODO: Add if available
    logout: /bff/v1/auth/logout # TODO: Add if available
    otp_request: /bff/v2/auth/otp/request # OTP Request API (CONFIGURED)
    otp_verify: /bff/v1/auth/otp/verify # OTP Verify API (CONFIGURED)
    pin_verify: /bff/v4/auth/pin/verify # PIN Verify API (CONFIGURED)

  # ⏳ TODO - Add your actual payment/transaction endpoints below
  # Example format:
  # payments:
  #   initiate: /bff/v1/payments/initiate
  #   status: /bff/v1/payments/{transaction_id}/status
  #   verify: /bff/v1/payments/verify
  payments:
    create: /bff/v1/payments # TODO: Replace with actual endpoint
    get: /bff/v1/payments/{payment_id} # TODO: Replace with actual endpoint
    list: /bff/v1/payments # TODO: Replace with actual endpoint

  # ⏳ TODO - Add other Sasai endpoints as you receive them
  transactions:
    # TODO: Add transaction endpoints here
  wallets:
    # TODO: Add wallet endpoints here
  merchants:
    # TODO: Add merchant endpoints here

# Payment Options Configuration (Merchant Payment Flow - Step 7)
payment_options:
  service_type: "sasai-app-payment"
  request_id: "bdefac7b-bbc0-48b4-9ef0-84e6b9b34a6f"
  invalid_service_type: "invalid-service"
  endpoint: "/bff/v1/payment/options"

# Utility Payment Configuration (Merchant Payment Flow - Step 8)
utility_payment:
  category_id: "SZWC10002"
  operator_id: "SZWOM00001"
  q1_value: "001535"
  integrator_txn_id: "fc25e475-3bdd-4319-b1c0-43842ad5556c"
  instrument_token: "d3c19bd0-5b8f-4a3c-b5ab-036c78de72b2"
  encrypted_pin: "Z9jXnPVARjr+J5ZHBlMIw93wMCzEmuXv6jpbl7dXQ7PcHcEiiywjyrO3DqSLGT/g1XyKTj7AzYOdgRfSoGbAOBeBefi5dhK+KIvEu+2e+pxHbj4vcKdJEZEwuv0XlnT7XWCioCAkZdqn+edZZIyAYxa4yux7fnt+Ek2HRNT1ic0Rh46buOoXngjxlu3VIFRh1KvVB7DcnjdtOH9u9qMEDgIFLNKiB3YOHwzYNlu+YbcrToH01xGJEUZ5dWy+Hc9pTOB8dQ+lvGsHZ+u4dzkCf09avVWlP9ljnEgefNPDVtoe51Z1abFVm2Bptdw8vW2DsuqP5HpH8rROu6vr7W9mjg=="
  public_key_alias: "payment-links"
  payment_method: "wallet"
  provider: "ecocash"
  fee_amount: 0
  payer_amount: 2
  currency: "USD"
  subtype: "merchant-pay"
  channel: "sasai-super-app"
  endpoint: "/bff/v2/order/utility/payment"
  # Device information (from working Postman request)
  device_ip: "192.0.0.2"
  device_model: "Samsung"
  device_os: "Android"
  device_os_version: "13"
  app_version: "1.4.1"
  app_package: "com.sasai.sasaipay"
  sim_number: "SIM_777222015"
  device_id: "deviceID_777222015"

# Church Payment Configuration (Pay to Church Flow)
church_payment:
  fee_amount: 0
  currency: "USD"
  operator_id: "SZWOCH0001"
  category_id: "SZWC10018"
  payment_method: "wallet"
  provider: "ecocash"
  subtype: "pay-to-church"
  channel: "sasai-super-app"
  endpoint: "/bff/v2/order/utility/payment"

# P2P Payment Transfer Configuration (Pay to Person Flow)
p2p_payment_transfer:
  fee_amount: 0.5  # From working Postman request
  currency: "ZWG"  # CRITICAL: Must be ZWG (from working Postman)
  payer_amount: 2  # From working Postman request
  payee_amount: 2  # From working Postman request
  payment_method: "wallet"
  provider: "ecocash"
  subtype: "p2p-pay"
  channel: "sasai-super-app"
  endpoint: "/bff/v2/order/transfer/payment"
  public_key_alias: "payment-links"
  encrypted_pin: "ZXodNbUKicCm/E01R6xI6NLUxqxP4g+mZAbQik8VYCeJYDGL9n6hYKzCAnuAAWcvs2nSsw0ZTN8wisiCyxYOmxRZBGYNyiH41cTOkNkUdpkP7su0Af/Mhmnp6SWDZxysO3q5Qp+qdroDSVFAepf2xJnR8X/T3INSveKGclVrd/8YkR2i4uyyHmIDnkMsWS7gLZQhpCX3gKGsLY/wT9zyOX0pHgotCUSUEGyJovNXs/P5mlvng6yMl3ZWY+2tgL1zx9pmvQtv7WKxvfKghGtRH2VQlwcviTorZdFUSdOx79xmhqxlSMNMUC5DlMnTEGT5io9MRMLbcTwXbk7T7Xuz2g=="  # From working Postman request
  # Static instrument tokens from working Postman (session-specific)
  beneficiary_instrument_token: "34eebf24-c32e-4c31-a689-e7548c83b6ef"
  payer_instrument_token: "6c570f91-6c3c-49d7-b1ab-c0840ddfd591"
  beneficiary_instrument_id: "9f894ed8-9116-496b-8599-526cc114b566"
  # Device information (from working Postman)
  device_ip: "192.0.0.2"
  device_model: "Samsung"
  device_os: "Android"
  device_os_version: "13"
  app_version: "1.4.1"
  app_package: "com.sasai.sasaipay"
  # Test beneficiary details (from Postman working request)
  beneficiary_name: "Ropafadzo Nyagwaya"
  beneficiary_mobile: "+263789124669"
  beneficiary_customer_id: "f044ff8d-abe6-47aa-8837-ec329e8a0edc"

# Order Details Configuration (Merchant Payment Flow - Step 9)
order_details:
  order_reference: "176888-6726-665218"
  request_id: "bdefac7b-bbc0-48b4-9ef0-84e6b9b34a6f"
  invalid_order_reference: "invalid-format"
  non_existent_order: "999999-9999-999999"
  different_user_order: "888888-8888-888888"
  endpoint: "/bff/v2/order/details"
  sim_number: "SIM_771222221"
  device_id: "deviceID_771222221"

# School/Church/Merchant Search Configuration (Pay to School Flow - Step 10)
school_search:
  endpoint: "/bff/v1/catalog/search-school-church-merchant"
  default_type: "SCHOOL"
  valid_types:
    - "SCHOOL"
    - "CHURCH"
    - "MERCHANT"
  default_page: 0
  default_page_size: 10
  max_page_size: 100
  default_name_query: "school"

  # Test queries for different types
  school_query: "school"
  church_query: "church"
  merchant_query: "merchant"

  # Invalid test data
  invalid_type: "INVALID_TYPE"
  invalid_page: -1
  invalid_page_size: 0
  negative_page_size: -10
  excessive_page_size: 1000
  empty_name_query: ""
  special_chars_query: "@#$%^&*()"
  sql_injection_query: "'; DROP TABLE schools; --"

  # Edge cases
  min_query_length: "a"
  max_query_length: "verylongschoolnamethatexceedsnormallimits"
  numeric_query: "123"
  unicode_query: "学校"

# School Payment Configuration (Pay to School Flow - Step 13)
school_payment:
  endpoint: "/bff/v2/order/utility/payment"
  fee_amount: 0
  currency: "USD"
  payment_method: "wallet"
  provider: "ecocash"
  subtype: "pay-to-school"
  channel: "sasai-super-app"
  public_key_alias: "payment-links"
  
  # Biller details
  operator_id: "SZWOSL0001"
  category_id: "SZWC10017"
  default_amount: 2.0
  default_school_code: "054329"  # Q1
  default_student_id: "85558"  # Q2
  
  # Encrypted PIN (RSA encrypted)
  encrypted_pin: "mvIkFBJqHn4YxGxx4/l1k2p+OyfrQgXJ11jQQi7C8N3+B5qZPDXggJrDAPFUFmezSo7CyUek15H+kSH4pWRT1MtuyKm9+M+2l9mpQnbSS2p7UDyHI17thhlc4ArhR1xRsEBfADLeCQSLL3mqk+de95FHJT/UlhjljhIbmm75Efhz67vcA+8E1YLMoWP6nA/VM/NMlWSD8HEofBQ8mDdDgKYlTjyZ86gpMroRb7Z9rC2SZfpVcl31aQE2nkx2m2OsZGo+Vqf2YqkIJBQ4Ae2llRf7PCPSB7tKY6OLiBWOYX+gISCQEthqr4sB5HgKHGwrP1+P9oxyQE2nrsdnMDTYng=="
  
  # Device information
  sim_number: "03d88760-d411-11f0-9694-15a487face2d"
  device_id: "03d88760-d411-11f0-9694-15a487face2d"
  device_model: "realme - RMX3741"
  device_network: "unidentified"
  device_latitude: "28.4307472"
  device_longitude: "77.0647009"
  device_os: "RM6877"
  device_os_version: "15"
  app_version: "2.2.1"
  app_package: "com.sasai.sasaipay"
  
  # Notes
  default_operator_name: "PRINCE EDWARD HIGH SCHOOL"
  default_code: "63540"
  default_student_reference: "Alok Kumar Gupta"
  
  # Invalid test data
  invalid_school_code: "999999"
  invalid_amount: -1
  invalid_currency: "XXX"

# Payment Reminder Configuration
payment_reminder:
  # Customer ID for setting reminders (from token payload)
  customer_id: "ef1ebf57-8e9b-4c6c-be89-de72dfd7376c"
  
  # Default reminder settings
  default_amount: "127"
  default_currency: "ZWG"
  default_alias: "NonRec Person Reminder"
  default_frequency: "no-repeat"
  
  # Beneficiary details for P2P reminders
  default_beneficiary: "+263789124669"
  default_payment_type: "wallet"
  
  # Reminder ID for delete operations (can be extracted dynamically during tests)
  reminder_id: "698c43199d9bea2a8e44ef6d"
  
  # Test data
  test_amounts:
    minimum: 1
    normal: 100
    large: 1000
  
  valid_frequencies:
    - "no-repeat"
    - "daily"
    - "weekly"
    - "monthly"
  
  valid_currencies:
    - "ZWG"
    - "USD"
  
  # Invalid test data for negative scenarios
  invalid_frequency: "invalid-frequency"
  invalid_currency: "INVALID"
  invalid_beneficiary: "invalid-phone"
  zero_amount: 0
  negative_amount: -100

database:
  enabled: false
  host: qa-db.example.com
  port: 5432
  name: ecocash_qa

logging:
  level: INFO
  console: true
  file: true
  file_path: logs/qa.log

test_data:
  default_currency: USD
  default_country: US
  test_user_phone: +1234567890
